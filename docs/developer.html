

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Application &mdash; Elements SDK 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Hydrogen" href="platforms.html" />
    <link rel="prev" title="Prerequisites" href="basics.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Elements SDK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Basic Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#definitions">Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#flows">Flows</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#usage">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html#docker">Docker</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer's Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="#system-on-chip">System on Chip</a></li>
<li class="toctree-l1"><a class="reference internal" href="#boards">Boards</a></li>
</ul>
<p class="caption"><span class="caption-text">Platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="platforms.html">Hydrogen</a></li>
<li class="toctree-l1"><a class="reference internal" href="platforms.html#carbon">Carbon</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Elements SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Application</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/developer.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="application">
<h1>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h1>
<p>Applications are stored separatly from Zephyr in different repos. This makes is easier to add
custom applications to the SDK. For demo and testing purpose, some applications are included to the
SDK. They can be found under zephyr-samples. It also contains a template application.</p>
<p>Since elements takes a relative path to the application, it is not important where it’s stored, but
to have the correct structure. The following shows the template application:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>.
├── CMakeLists.txt
├── prj.conf
└── src
    └── main.c
</pre></div>
</div>
<p>Zephyr uses cmake to compile everything. The CMakeLists.txt adds all information to the
build-process. All C-Files in src/ must be included to the CMakeList.txt file.</p>
<p>Build-dependancies are solved by KConfig. This system is also implemented to Zephyr and can easily
configure which parts are added to the firmware. The prj.conf-File can be used to en- oder disable
Configs.</p>
<p>The src/ folder contains the Source Code. The template or demos show the basic for threading and
how to use the drivers. Move informations can be found on the official Zephyr documentation.</p>
</div>
<div class="section" id="system-on-chip">
<h1>System on Chip<a class="headerlink" href="#system-on-chip" title="Permalink to this headline">¶</a></h1>
<p>A System on Chip is an inheritance of one of the platforms. The idea behind this structure is to
easily create new SOCs by only configuring the peripherals for a platform. Since all platforms are
named after chemical elements, all SOCs are named like they would be isotopes of them. For example
SOCs for the Hydrogen platform are called Hydrogen1, Hydrogen2, etc. Please keep in mind this
number is ongoing and always starts at 1.</p>
<p>All SOCs are placed in zibal/hardware/scala/zibal/soc and platforms can be found under
zibal/hardware/scala/zibal/platforms. Therefore, new SOCs can easily added by creating a new file
in the …/soc/ folder. There is a little bit of boilerplate-code which can be copied from other
SOCs. The main part consists of adding the peripherals configurations, IOs and the IP-Cores with
the bus addresses and interrupts.</p>
<p>Afterwards, a new device-tree must be created in zephyr/dts/riscv/ for this SOCs. The DT also
inherits from the platform and only the nodes for each peripheral must be defined. The final
configuration about the status for each peripheral, aliases or informations about LEDs are
defined on board-level.</p>
</div>
<div class="section" id="boards">
<h1>Boards<a class="headerlink" href="#boards" title="Permalink to this headline">¶</a></h1>
<p>A board represents a physical hardware with a SOC but do not include an application. It’s basically
the pin-out of a SOC for the hardware. Therefore, all information are stored in two parts.</p>
<p>First, the board is defined in Zephyr. The following shows the DH-006, TH-283 and TH-294 boards
for the Hydrogen platform.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>zephyr/boards/riscv/
└── hydrogen
    ├── board.h
    ├── CMakeLists.txt
    ├── dh006_defconfig
    ├── dh006.dts
    ├── dh006.yaml
    ├── Kconfig.board
    ├── Kconfig.defconfig
    ├── th283_defconfig
    ├── th283.dts
    ├── th283.yaml
    ├── th294_defconfig
    ├── th294.dts
    └── th294.yaml
</pre></div>
</div>
<p>They are placed under zephyr/boards/riscv/ and than under the name of the platform. Both Kconfig
files contain the configs for all boards inside this folder and new boards should be added to this
file. Each board has three filed. The board_defconfig contains a list of configs for this boards.
The board.yaml describes the board for internal Zephyr tools and board.dts is the board-level
device tree which includes the SOC device tree. The CMakeLists.txt and board.h files can be
ignored.</p>
<p>Second, the board is also defined in Zibal for EDA-Tools like Vivado to simulate or synthesize the
design. All simulation-tools rely for each board on a testbench under zibal/eda/testbenches
which simulates partly a physical board. The top-level file for each SOC is architecture dependen
and defined in the corresponding EDA sub-folder.</p>
<p>For Xilinx boards, the top-level file is placed directly in zibal/eda/Xilinx/. It calls the module
of the SOC, set-ups all IO-blocks and defines the top-level IOs. For example tri-state buffer or
pull-resistors can be definded in this file. Lastly, the routing between the top-level IOs and the
physical FPGA pins is done in zibal/eda/Xilinx/syn/XDC/.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="platforms.html" class="btn btn-neutral float-right" title="Hydrogen" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basics.html" class="btn btn-neutral float-left" title="Prerequisites" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, PHYTEC Messtechnik GmbH

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>